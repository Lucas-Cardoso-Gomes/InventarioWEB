@model IEnumerable<Web.Models.ChamadoConversa>
@inject Microsoft.AspNetCore.Antiforgery.IAntiforgery Xsrf
@functions {
    public string GetAntiXsrfRequestToken()
    {
        return Xsrf.GetAndStoreTokens(Context).RequestToken;
    }
}

<div id="messages-list" style="height: 400px; overflow-y: scroll; border: 1px solid #eee; padding: 10px; margin-bottom: 10px;">
    @foreach (var conversa in Model)
    {
        <div><strong>@conversa.UsuarioNome:</strong> @conversa.Mensagem <span class="text-muted" style="font-size: 0.8em;">(@conversa.DataCriacao.ToString("g"))</span></div>
    }
</div>

<form id="send-message-form" data-chamado-id="@ViewBag.ChamadoID" data-request-token="@GetAntiXsrfRequestToken()">
    <div class="input-group">
        <input type="text" id="message-input" class="form-control" placeholder="Digite sua mensagem..." />
        <button type="submit" class="btn btn-primary">Enviar</button>
    </div>
</form>